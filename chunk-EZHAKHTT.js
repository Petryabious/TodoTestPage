import{a as _,b as X,c as Z,d as $,g as tt,k as et,o as nt,p as it,q as at,r as ot}from"./chunk-HXKL7F5Q.js";import{$ as O,A as u,D as T,E as z,F as q,G as y,J as A,K as U,L as G,M as Y,N as a,O as s,P as H,Q as M,R as g,S as E,T as l,U as f,V as J,W as C,X as S,Y as b,_ as w,aa as v,d as I,ea as x,f as V,ha as K,ja as Q,k as h,m as k,p as F,q as R,s as d,t as p,u as B,v as L,w as N,x as D,z as W}from"./chunk-52H6VYAW.js";function j(n,c){let e=!c?.manualCleanup;e&&!c?.injector&&R(j);let r=e?c?.injector?.get(D)??h(D):null,t;c?.requireSync?t=T({kind:0}):t=T({kind:1,value:c?.initialValue});let i=n.subscribe({next:o=>t.set({kind:1,value:o}),error:o=>{if(c?.rejectErrors)throw o;t.set({kind:2,error:o})}});return r?.onDestroy(i.unsubscribe.bind(i)),x(()=>{let o=t();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new V(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var P=(()=>{class n{transform(e){let r={[_.NOT_STARTED]:"\u041D\u0435 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D",[_.IN_PROGRESS]:"\u0412 \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u0435",[_.DONE]:"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D"};return e?r[e]:""}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=F({name:"taskStatus",type:n,pure:!0,standalone:!0})}}return n})();function lt(n,c){if(n&1&&(a(0,"option",7),l(1),O(2,"taskStatus"),s()),n&2){let e=c.$implicit;y("value",e),u(),f(v(2,2,e))}}var rt=(()=>{class n extends Z{constructor(){super(...arguments),this.selectedStatus="",this.changeStatus=new W,this.statusValues=Object.values(_)}setSelectedStatus(){this.changeStatus.emit(this.selectedStatus),this.closeDialog()}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=N(n)))(t||n)}})()}static{this.\u0275cmp=k({type:n,selectors:[["app-modal-change-status"]],inputs:{selectedStatus:"selectedStatus"},outputs:{changeStatus:"changeStatus"},standalone:!0,features:[z,w],decls:16,vars:2,consts:[["dialog",""],["appDialog","",1,"dialog",3,"isOpenChange","isOpen"],[1,"dialog__close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"],[1,"change-status-modal"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"dialog__btns"],["type","button",1,"dialog__btn","dialog__btn_cancel",3,"click"],[1,"dialog__btn","dialog__btn_sub",3,"click"]],template:function(r,t){if(r&1){let i=M();a(0,"dialog",1,0),b("isOpenChange",function(m){return d(i),S(t.isOpen,m)||(t.isOpen=m),p(m)}),a(2,"button",2),g("click",function(){return d(i),p(t.closeDialog())}),B(),a(3,"svg",3),H(4,"path",4),s()(),L(),a(5,"div",5)(6,"p"),l(7,"\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"),s(),a(8,"select",6),b("ngModelChange",function(m){return d(i),S(t.selectedStatus,m)||(t.selectedStatus=m),p(m)}),G(9,lt,3,4,"option",7,U),s(),a(11,"div",8)(12,"button",9),g("click",function(){return d(i),p(t.closeDialog())}),l(13," \u0417\u0430\u043A\u0440\u044B\u0442\u044C "),s(),a(14,"button",10),g("click",function(){return d(i),p(t.setSelectedStatus())}),l(15," \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "),s()()()()}r&2&&(C("isOpen",t.isOpen),u(8),C("ngModel",t.selectedStatus),u(),Y(t.statusValues))},dependencies:[$,P,ot,it,at,nt,tt,et],styles:[".dialog[_ngcontent-%COMP%]{display:block;top:50%;left:50%;transform:translate(-50%,-50%) scaleY(0);max-width:max-content;width:100%;opacity:0;pointer-events:none;transition:all .3s ease;background:transparent;background-color:var(--gray100-color);padding:1rem 1rem 2rem;border-radius:.5rem;display:flex;flex-direction:column;gap:1rem}.dialog[open][_ngcontent-%COMP%]{opacity:1;transform:translate(-50%,-50%) scaleY(1);pointer-events:auto}dialog[_ngcontent-%COMP%]:not([open]){pointer-events:none;opacity:0}.dialog[_ngcontent-%COMP%]::-webkit-backdrop{background-color:#00000080;-webkit-transition:all .3s ease-in;transition:all .3s ease-in}.dialog[_ngcontent-%COMP%]::backdrop{background-color:#00000080;-webkit-transition:all .3s ease-in;-o-transition:all .3s ease-in;transition:all .3s ease-in}.dialog__close[_ngcontent-%COMP%]{align-self:flex-end;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;color:var(--black-color)}.dialog__close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100%;width:100%;height:100%}.dialog__btns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem}.dialog__btn[_ngcontent-%COMP%]{padding:.8rem 1.2rem;display:flex;align-items:center;justify-content:center;font-size:1.25rem;border-radius:.5rem;color:var(--white-color)}.dialog__btn[_ngcontent-%COMP%]:disabled{opacity:.6}.dialog__btn_sub[_ngcontent-%COMP%]{background-color:#3f51b5}.dialog__btn_cancel[_ngcontent-%COMP%]{background-color:tomato}",".change-status-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.change-status-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem}.change-status-modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-size:1.2rem;cursor:pointer;padding:1rem}"],changeDetection:0})}}return n})();function ut(n,c){if(n&1){let e=M();a(0,"div",5)(1,"ul",6)(2,"li")(3,"span"),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:"),s(),a(5,"span"),l(6),s()(),a(7,"li")(8,"span"),l(9,"\u0421\u0442\u0430\u0442\u0443\u0441:"),s(),a(10,"span"),l(11),O(12,"taskStatus"),s()(),a(13,"li")(14,"span"),l(15,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),s(),a(16,"p"),l(17),s()()()(),a(18,"footer",7)(19,"button",8),g("click",function(){d(e);let t=E();return p(t.showChangeStatusModal())}),l(20,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u0442\u0430\u0442\u0443\u0441"),s()()}if(n&2){let e,r,t,i=E();u(6),f((e=i.task())==null?null:e.title),u(5),f(v(12,3,(r=i.task())==null?null:r.status)),u(6),J(" ",(t=i.task())==null?null:t.description," ")}}var Wt=(()=>{class n{constructor(){this.route=h(K),this.taskService=h(X),this.taskId=j(this.route.paramMap.pipe(I(e=>e.get("id")))),this.task=x(()=>{let e=this.taskId();return this.taskService.getTask(e??"")}),this.displayChangeStatusModal=!1}showChangeStatusModal(){this.displayChangeStatusModal=!0}changeStatus(e){this.taskService.updateStatusTask(this.task()?.id??"",e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=k({type:n,selectors:[["app-task-detail"]],standalone:!0,features:[w],decls:8,vars:3,consts:[[1,"task-detail"],[1,"task-detail__header"],["routerLink","/tasks",1,"btn-back"],[1,"title-2"],[3,"isOpenChange","changeStatus","isOpen","selectedStatus"],[1,"task-detail__description"],[1,"task-detail__list"],[1,"task-detail__footer"],[3,"click"]],template:function(r,t){if(r&1&&(a(0,"div",0)(1,"header",1)(2,"button",2),l(3,"\u041D\u0430\u0437\u0430\u0434"),s(),a(4,"h1",3),l(5,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),s()(),q(6,ut,21,5),s(),a(7,"app-modal-change-status",4),b("isOpenChange",function(o){return S(t.displayChangeStatusModal,o)||(t.displayChangeStatusModal=o),o}),g("changeStatus",function(o){return t.changeStatus(o)}),s()),r&2){let i;u(6),A(6,t.task()?6:-1),u(),C("isOpen",t.displayChangeStatusModal),y("selectedStatus",(i=(i=t.task())==null?null:i.status)!==null&&i!==void 0?i:"")}},dependencies:[Q,P,rt],styles:["[_nghost-%COMP%]{display:block;height:100dvh}.task-detail[_ngcontent-%COMP%]{max-width:50rem;margin:0 auto;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.task-detail__header[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;align-items:center;flex-direction:column;gap:1rem;width:100%}.btn-back[_ngcontent-%COMP%]{width:100%;background-color:var(--gray900-color);color:var(--white-color);font-size:1.5rem;padding:1rem;border-radius:.5rem}.task-detail__description[_ngcontent-%COMP%]{margin-bottom:2rem;width:100%}.task-detail__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;font-size:2rem;width:100%}.task-detail__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% auto;padding:.5rem 0;gap:.5rem}.task-detail__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:2px solid var(--white-color)}.task-detail__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child, .task-detail__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{justify-self:end}.task-detail__footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.task-detail__footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;font-size:1.5rem;color:var(--white-color);background-color:var(--black-color)}"],changeDetection:0})}}return n})();export{Wt as TaskDetailComponent};
